<mat-card>
  <mat-card-header>
    <mat-card-title>Registro</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form
      [formGroup]="registerForm"
      (ngSubmit)="submit()"
      #formDirective="ngForm"
    >
      <mat-form-field appearance="fill">
        <mat-label>Usuario</mat-label>
        <input
          matInput
          formControlName="nombreUsuario"
          placeholder="Ingrese su usuario"
          required
        />
        @if (registerForm.get('nombreUsuario')?.hasError('required')) {
        <mat-error>El usuario es obligatorio</mat-error>
        } @if (registerForm.get('nombreUsuario')?.hasError('maxlength')) {
        <mat-error>El usuario no puede tener más de 255 caracteres</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>PIN</mat-label>
        <input
          matInput
          type="password"
          formControlName="pin"
          placeholder="Ingrese su PIN"
          required
        />
        @if (registerForm.get('pin')?.hasError('required')) {
        <mat-error>El PIN es obligatorio</mat-error>
        } @if (registerForm.get('pin')?.hasError('minlength')) {
        <mat-error>El PIN debe tener 4 caracteres</mat-error>
        } @if (registerForm.get('pin')?.hasError('maxlength')) {
        <mat-error>El PIN debe tener 4 caracteres</mat-error>
        }
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Confirmar PIN</mat-label>
        <input
          matInput
          type="password"
          formControlName="confirmarPin"
          placeholder="Confirme su PIN"
          required
        />
        @if (registerForm.get('confirmarPin')?.hasError('required')) {
        <mat-error>La confirmación del PIN es obligatoria</mat-error>
        } @if (registerForm.get('confirmarPin')?.hasError('minlength')) {
        <mat-error>El PIN debe tener 4 caracteres</mat-error>
        } @if (registerForm.get('confirmarPin')?.hasError('maxlength')) {
        <mat-error>El PIN debe tener 4 caracteres</mat-error>
        } @if (registerForm.get('confirmarPin')?.hasError('mismatch')) {
        <mat-error>Los PINs no coinciden</mat-error>
        }
      </mat-form-field>

      <button
        mat-raised-button
        color="primary"
        [disabled]="registerForm.invalid"
      >
        Registrarse
      </button>
    </form>
  </mat-card-content>
</mat-card>
